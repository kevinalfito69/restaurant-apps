{"version":3,"file":"app~e0c2779b.bundle.js","mappings":";;;;;;;;;AAAA,IAAMA,MAAM,GAAG;EACbC,QAAQ,EAAE,sCADG;EAEbC,aAAa,EAAE,mDAFF;EAGbC,cAAc,EAAE,oDAHH;EAIbC,aAAa,EAAE,mDAJF;EAKbC,aAAa,EAAE,gBALF;EAMbC,gBAAgB,EAAE,CANL;EAObC,iBAAiB,EAAE;AAPN,CAAf;AASA,iEAAeP,MAAf;;;;;;;;;;;;;;+CCRA;;;;;;AADA;AACA;AAEA,IAAQK,aAAR,GAA+DL,oFAA/D;AAAA,IAAuBM,gBAAvB,GAA+DN,0FAA/D;AAAA,IAAyCO,iBAAzC,GAA+DP,4FAA/D;AAEA,IAAMS,SAAS,GAAGD,qDAAM,CAACH,aAAD,EAAgBC,gBAAhB,EAAkC;EACxDI,OADwD,mBAChDC,QADgD,EACtC;IAChBA,QAAQ,CAACC,iBAAT,CAA2BL,iBAA3B,EAA8C;MAAEM,OAAO,EAAE;IAAX,CAA9C;EACD;AAHuD,CAAlC,CAAxB;AAKA,IAAMC,qBAAqB,GAAG;EACtBC,QADsB,oBACbC,EADa,EACT;IAAA;MAAA;QAAA;UAAA;YAAA;cAAA,IACZA,EADY;gBAAA;gBAAA;cAAA;;cAAA;;YAAA;cAAA;cAAA,OAKHP,SALG;;YAAA;cAAA,+CAKQQ,GALR,CAKYV,iBALZ,EAK+BS,EAL/B;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAMlB,CAP2B;EAQtBE,WARsB,yBAQR;IAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACJT,SADI;;YAAA;cAAA,iDACOU,MADP,CACcZ,iBADd;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAEnB,CAV2B;EAWtBa,QAXsB,oBAWbC,KAXa,EAWN;IAAA;MAAA;QAAA;UAAA;YAAA;cAAA,IAEfA,KAAK,CAACC,cAAN,CAAqB,IAArB,CAFe;gBAAA;gBAAA;cAAA;;cAAA;;YAAA;cAAA;cAAA,OAMNb,SANM;;YAAA;cAAA,iDAMKc,GANL,CAMShB,iBANT,EAM4Bc,KAN5B;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAOrB,CAlB2B;EAmBtBG,WAnBsB,uBAmBVR,EAnBU,EAmBN;IAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACNP,SADM;;YAAA;cAAA,2DACYF,iBADZ,EAC+BS,EAD/B;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAErB,CArB2B;EAsBtBS,WAtBsB,uBAsBVC,KAtBU,EAsBH;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACT,KAAI,CAACR,WAAL,EADS;;YAAA;cAAA,iDACWS,MADX,CACkB,UAACN,KAAD,EAAW;gBAClDO,OAAO,CAACC,GAAR,CAAYR,KAAK,CAACS,IAAlB;gBACA,IAAMC,qBAAqB,GAAG,CAACV,KAAK,CAACS,IAAN,IAAc,GAAf,EAAoBE,WAApB,EAA9B;gBACA,IAAMC,gBAAgB,GAAGF,qBAAqB,CAACG,OAAtB,CAA8B,KAA9B,EAAqC,EAArC,CAAzB;gBACA,IAAMC,gBAAgB,GAAGT,KAAK,CAACM,WAAN,EAAzB;gBACA,IAAMI,WAAW,GAAGD,gBAAgB,CAACD,OAAjB,CAAyB,KAAzB,EAAgC,EAAhC,CAApB;gBACA,OAAOD,gBAAgB,CAACI,OAAjB,CAAyBD,WAAzB,MAA0C,CAAC,CAAlD;cACD,CARsB;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EASxB;AA/B2B,CAA9B;AAiCA,iEAAetB,qBAAf;;;;;;;;;;;;;;;;AC3CA;AAEA,IAAMwB,YAAY,GAAG;EACnBC,QAAQ,YAAKvC,uCAAL,SADW;EAEnBwC,MAAM,EAAE,gBAACxB,EAAD;IAAA,iBAAWhB,uCAAX,oBAAoCgB,EAApC;EAAA;AAFW,CAArB;AAIA,mDAAesB,YAAf;;;;+CCLA;;;;;;;;;;;;AADA;;IAEMG;;;;;;;;sFACJ;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACyBC,KAAK,CAACJ,qBAAD,CAD9B;;cAAA;gBACQK,QADR;gBAAA;gBAAA,OAE6BA,QAAQ,CAACC,IAAT,EAF7B;;cAAA;gBAEQC,YAFR;gBAAA,iCAGSA,YAAY,CAACC,WAHtB;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;;;;;;;;;;;oFAMA,kBAAyB9B,EAAzB;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACyB0B,KAAK,CAACJ,mBAAA,CAAoBtB,EAApB,CAAD,CAD9B;;cAAA;gBACQ2B,QADR;gBAAA;gBAAA,OAE6BA,QAAQ,CAACC,IAAT,EAF7B;;cAAA;gBAEQC,YAFR;gBAAA,kCAGSA,YAAY,CAACE,UAHtB;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;;;;;;;;;;;;;AAMF,oDAAeN,YAAf;;;;;;;;;;;;;ACfA;AAA8B;;AAC9B;AACA;AACA;CAEA;;AAEAS,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;EAClD;EACA,IAAMC,GAAG,GAAG,IAAIH,2DAAJ,CAAQ;IAClBI,MAAM,EAAEH,QAAQ,CAACI,aAAT,CAAuB,YAAvB,CADU;IAElBC,MAAM,EAAEL,QAAQ,CAACI,aAAT,CAAuB,YAAvB,CAFU;IAGlBE,OAAO,EAAEN,QAAQ,CAACI,aAAT,CAAuB,MAAvB;EAHS,CAAR,CAAZ;EAKAG,MAAM,CAACN,gBAAP,CAAwB,YAAxB,EAAsC,YAAM;IAC1CC,GAAG,CAACM,UAAJ;EACD,CAFD;EAGAD,MAAM,CAACN,gBAAP,CAAwB,MAAxB,EAAgC,YAAM;IACpCH,uEAAU,GAD0B,CAEpC;;IACAI,GAAG,CAACM,UAAJ;EACD,CAJD;AAKD,CAfD","sources":["webpack://restaurant-apps/./src/scripts/globals/config.js","webpack://restaurant-apps/./src/scripts/globals/favorite-resto-idb.js","webpack://restaurant-apps/./src/scripts/globals/api-endpoint.js","webpack://restaurant-apps/./src/scripts/globals/restaurant-db.js","webpack://restaurant-apps/./src/scripts/index.js"],"sourcesContent":["const CONFIG = {\r\n  BASE_URL: 'https://restaurant-api.dicoding.dev/',\r\n  SMALL_IMG_URL: 'https://restaurant-api.dicoding.dev/images/small/',\r\n  MEDIUM_IMG_URL: 'https://restaurant-api.dicoding.dev/images/medium/',\r\n  LARGE_IMG_URL: 'https://restaurant-api.dicoding.dev/images/large/',\r\n  DATABASE_NAME: 'resto-database',\r\n  DATABASE_VERSION: 1,\r\n  OBJECT_STORE_NAME: 'resto',\r\n};\r\nexport default CONFIG;\r\n","import { openDB } from 'idb';\r\nimport CONFIG from './config';\r\n\r\nconst { DATABASE_NAME, DATABASE_VERSION, OBJECT_STORE_NAME } = CONFIG;\r\n\r\nconst dbPromise = openDB(DATABASE_NAME, DATABASE_VERSION, {\r\n  upgrade(database) {\r\n    database.createObjectStore(OBJECT_STORE_NAME, { keyPath: 'id' });\r\n  },\r\n});\r\nconst FavoriteRestaurantIdb = {\r\n  async getResto(id) {\r\n    if (!id) {\r\n      return;\r\n    }\r\n    // eslint-disable-next-line consistent-return\r\n    return (await dbPromise).get(OBJECT_STORE_NAME, id);\r\n  },\r\n  async getAllResto() {\r\n    return (await dbPromise).getAll(OBJECT_STORE_NAME);\r\n  },\r\n  async putResto(resto) {\r\n    // eslint-disable-next-line no-prototype-builtins\r\n    if (!resto.hasOwnProperty('id')) {\r\n      return;\r\n    }\r\n    // eslint-disable-next-line consistent-return\r\n    return (await dbPromise).put(OBJECT_STORE_NAME, resto);\r\n  },\r\n  async deleteResto(id) {\r\n    return (await dbPromise).delete(OBJECT_STORE_NAME, id);\r\n  },\r\n  async searchResto(query) {\r\n    return (await this.getAllResto()).filter((resto) => {\r\n      console.log(resto.name);\r\n      const loweredCaseRestoTitle = (resto.name || '-').toLowerCase();\r\n      const jammedRestoTitle = loweredCaseRestoTitle.replace(/\\s/g, '');\r\n      const loweredCaseQuery = query.toLowerCase();\r\n      const jammedQuery = loweredCaseQuery.replace(/\\s/g, '');\r\n      return jammedRestoTitle.indexOf(jammedQuery) !== -1;\r\n    });\r\n  },\r\n};\r\nexport default FavoriteRestaurantIdb;\r\n","import CONFIG from './config';\r\n\r\nconst API_ENDPOINT = {\r\n  FAVORITE: `${CONFIG.BASE_URL}list`,\r\n  DETAIL: (id) => `${CONFIG.BASE_URL}detail/${id}`,\r\n};\r\nexport default API_ENDPOINT;\r\n","import API_ENDPOINT from './api-endpoint';\r\n\r\nclass RestaurantDb {\r\n  static async favoriteResto() {\r\n    const response = await fetch(API_ENDPOINT.FAVORITE);\r\n    const responseJson = await response.json();\r\n    return responseJson.restaurants;\r\n  }\r\n\r\n  static async detailResto(id) {\r\n    const response = await fetch(API_ENDPOINT.DETAIL(id));\r\n    const responseJson = await response.json();\r\n    return responseJson.restaurant;\r\n  }\r\n}\r\nexport default RestaurantDb;\r\n","import 'regenerator-runtime'; /* for async await transpile */\r\nimport '../styles/main.css';\r\nimport '../styles/responsive.css';\r\nimport swRegister from './utils/sw-register';\r\nimport App from './views/app';\r\n// import LikeButtonInititator from './utils/like-button-initiator';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  // eslint-disable-next-line no-unused-vars\r\n  const app = new App({\r\n    button: document.querySelector('.hamburger'),\r\n    drawer: document.querySelector('.nav__menu'),\r\n    content: document.querySelector('main'),\r\n  });\r\n  window.addEventListener('hashchange', () => {\r\n    app.renderPage();\r\n  });\r\n  window.addEventListener('load', () => {\r\n    swRegister();\r\n    // LikeButtonInititator();\r\n    app.renderPage();\r\n  });\r\n});\r\n"],"names":["CONFIG","BASE_URL","SMALL_IMG_URL","MEDIUM_IMG_URL","LARGE_IMG_URL","DATABASE_NAME","DATABASE_VERSION","OBJECT_STORE_NAME","openDB","dbPromise","upgrade","database","createObjectStore","keyPath","FavoriteRestaurantIdb","getResto","id","get","getAllResto","getAll","putResto","resto","hasOwnProperty","put","deleteResto","searchResto","query","filter","console","log","name","loweredCaseRestoTitle","toLowerCase","jammedRestoTitle","replace","loweredCaseQuery","jammedQuery","indexOf","API_ENDPOINT","FAVORITE","DETAIL","RestaurantDb","fetch","response","json","responseJson","restaurants","restaurant","swRegister","App","document","addEventListener","app","button","querySelector","drawer","content","window","renderPage"],"sourceRoot":""}